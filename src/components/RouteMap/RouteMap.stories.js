import RouteMap from "./RouteMap";
import { Provider } from "react-redux";
import { configureStore, createSlice } from "@reduxjs/toolkit";
import { planATripSlice } from "../../modules/planatrip/planATripSlice";
import React from "react";

const MockedState = {
  startingPoint: {
    address: "Travessera de Gràcia, 250, Gràcia, 08025 Barcelona",
    coordinates: {
      latitude: 41.40545511337635,
      longitude: 2.1646206668742907,
    },
  },
  destination: {
    address: "C/ de Lepant, 150, L'Eixample, 08013 Barcelona",
    coordinates: {
      latitude: 41.39870052376385,
      longitude: 2.185473748057414,
    },
  },
  providers: {
    bicing: {
      id: "bicing",
      name: "Bicing",
    },
  },
  routeOptions: {
    entities: [
      {
        providerId: "provider111",
        transportType: "docked-ebike",
        nearByStations: {
          startingPoint: [
            {
              id: "napols-344",
              name: "C/ NÀPOLS, 344, 08025 Barcelona",
              coordinates: {
                latitude: 41.40566350628676,
                longitude: 2.1672752237756345,
              },
            },
            {
              id: "bruniquer-59",
              name: "PL JOANIC - C / BRUNIQUER, 59, 08024 Barcelona",
              coordinates: {
                latitude: 41.40579968226994,
                longitude: 2.1629807271681214,
              },
            },
            {
              id: "montmany-1",
              name: "C/ MONTMANY, 1, 08012 Barcelona",
              coordinates: {
                latitude: 41.40385942548947,
                longitude: 2.161635159487782,
              },
            },
          ],
          destination: [
            {
              id: "ribes-59",
              name: "C/ DE RIBES, 59 B, 08013 Barcelona",
              coordinates: {
                latitude: 41.39837512575936,
                longitude: 2.183411953885501,
              },
            },
            {
              id: "ribes-77",
              name: "C/ RIBES, 77, 08013 Barcelona",
              coordinates: {
                latitude: 41.400253829651625,
                longitude: 2.184512346167795,
              },
            },
            {
              id: "meridiana-47",
              name: "AV. MERIDIANA, 47 (D), 08013 Barcelona",
              coordinates: {
                latitude: 41.398385395336454,
                longitude: 2.187036829322798,
              },
            },
          ],
        },
        selectedStationIds: {
          startingPoint: "napols-344",
          destination: "ribes-59",
        },
        loading: "succeeded",
        error: null,
        details: {
          featureCollection: {
            type: "FeatureCollection",
            features: [
              {
                type: "Feature",
                properties: {},
                // Walking route between
                //  - Travessera de Gràcia, 250, Gràcia, 08025 Barcelona
                //  - Bicing station 'C/ NÀPOLS, 344, 08025 Barcelona'
                //
                // Retrieved with OSRM API. Command:
                //    curl -X GET --location "https://router.project-osrm.org/route/v1/foot/\
                //       2.1646206668742907,41.40545511337635;2.1672752237756345,41.40566350628676\
                //       ?alternatives=false&overview=full&geometries=geojson"
                // prettier-ignore
                geometry: {
                  coordinates: [[2.164522, 41.405544], [2.164653, 41.405626], [2.164681, 41.405641], [2.165058, 41.405879], [2.165098, 41.4059], [2.16515, 41.405936], [2.165296, 41.406027], [2.165371, 41.406074], [2.165521, 41.406168], [2.165542, 41.406181], [2.166083, 41.406519], [2.166255, 41.406626], [2.166276, 41.406639], [2.166382, 41.406705], [2.166545, 41.406807], [2.166707, 41.406903], [2.166801, 41.406967], [2.167203, 41.407214], [2.16753, 41.407421], [2.167563, 41.407441], [2.167798, 41.407588], [2.168008, 41.40743], [2.168433, 41.407109], [2.168439, 41.407105], [2.168467, 41.407084], [2.168675, 41.40693], [2.168461, 41.406769], [2.168449, 41.40676], [2.168434, 41.406749], [2.168214, 41.406587], [2.167798, 41.406275], [2.167769, 41.406253], [2.167522, 41.406067], [2.167337, 41.405927], [2.167131, 41.405771]],
                  type: 'LineString'
                },
              },
              {
                type: "Feature",
                properties: {},
                // Cycling route between
                //  - Bicing station 'C/ NÀPOLS, 344, 08025 Barcelona'
                //  - Bicing station 'C/ DE RIBES, 59 B, 08013 Barcelona'
                //
                // Retrieved with OSRM API. Command:
                //    curl -X GET --location "https://router.project-osrm.org/route/v1/bike/\
                //       1672752237756345,41.40566350628676;2.183411953885501,41.39837512575936\
                //       ?alternatives=false&overview=full&geometries=geojson"
                // prettier-ignore
                geometry: {
                  coordinates: [[2.167131, 41.405771], [2.166982, 41.405659], [2.167029, 41.405623], [2.167195, 41.405499], [2.167272, 41.405441], [2.167383, 41.405358], [2.167962, 41.404924], [2.168032, 41.404872], [2.168056, 41.404854], [2.168109, 41.404813], [2.168152, 41.404846], [2.168242, 41.404909], [2.168454, 41.405065], [2.168476, 41.405081], [2.168654, 41.405213], [2.168886, 41.405383], [2.169554, 41.405875], [2.169585, 41.405897], [2.169815, 41.406067], [2.169975, 41.405943], [2.170018, 41.405911], [2.170459, 41.405579], [2.170626, 41.405445], [2.170637, 41.405436], [2.170648, 41.405428], [2.170677, 41.405407], [2.170911, 41.405231], [2.171079, 41.405108], [2.171123, 41.405075], [2.171791, 41.404569], [2.171829, 41.404541], [2.172083, 41.404349], [2.172259, 41.404212], [2.172615, 41.403935], [2.172619, 41.403931], [2.172866, 41.40374], [2.172891, 41.40372], [2.172916, 41.4037], [2.172928, 41.403691], [2.173161, 41.403509], [2.173218, 41.403468], [2.173352, 41.403365], [2.173376, 41.403347], [2.173404, 41.403326], [2.173659, 41.403134], [2.173762, 41.403056], [2.174033, 41.402852], [2.17406, 41.402832], [2.174087, 41.402811], [2.174301, 41.40265], [2.17435, 41.402614], [2.174555, 41.402465], [2.175203, 41.401992], [2.175241, 41.401963], [2.17539, 41.401855], [2.175453, 41.401809], [2.175615, 41.401685], [2.175675, 41.401637], [2.176319, 41.401127], [2.176355, 41.401098], [2.176376, 41.401081], [2.176409, 41.401057], [2.176548, 41.400943], [2.176585, 41.400917], [2.176632, 41.400885], [2.17665, 41.400873], [2.176687, 41.400844], [2.176707, 41.40083], [2.176733, 41.400809], [2.17682, 41.400745], [2.176855, 41.400726], [2.176899, 41.400703], [2.176944, 41.400672], [2.177465, 41.40028], [2.177489, 41.400263], [2.177707, 41.400114], [2.177762, 41.400068], [2.177925, 41.399942], [2.178611, 41.399416], [2.178639, 41.399394], [2.178801, 41.399285], [2.178871, 41.39923], [2.179074, 41.399074], [2.179335, 41.398875], [2.179751, 41.398558], [2.179793, 41.398526], [2.179814, 41.39851], [2.179926, 41.398424], [2.179952, 41.398404], [2.179983, 41.398381], [2.180009, 41.398361], [2.180105, 41.398288], [2.180134, 41.39831], [2.180243, 41.398399], [2.18062, 41.398679], [2.180992, 41.398963], [2.181082, 41.399031], [2.181115, 41.399057], [2.181229, 41.399129], [2.181354, 41.399028], [2.181376, 41.399013], [2.18151, 41.39892], [2.181542, 41.398895], [2.181577, 41.398869], [2.182274, 41.398343], [2.182322, 41.398304], [2.182459, 41.398194], [2.182606, 41.398088], [2.182657, 41.398051], [2.182782, 41.397963], [2.182805, 41.397946], [2.182873, 41.398044], [2.1829, 41.398077], [2.183214, 41.398465]],
                  type: 'LineString'
                },
              },
              {
                type: "Feature",
                properties: {},
                // Walking route between
                //  - Bicing station 'C/ NÀPOLS, 344, 08025 Barcelona'
                //  - C/ de Lepant, 150, L'Eixample, 08013 Barcelona
                //
                // Retrieved with OSRM API. Command:
                //    curl -X GET --location "https://router.project-osrm.org/route/v1/foot/\
                //       2.1646206668742907,41.40545511337635;2.1672752237756345,41.40566350628676\
                //       ?alternatives=false&overview=full&geometries=geojson"
                // prettier-ignore
                geometry: {
                  coordinates: [[2.183214, 41.398465], [2.183235, 41.398491], [2.183295, 41.398559], [2.183548, 41.398886], [2.183588, 41.398936], [2.18365, 41.399015], [2.183727, 41.399113], [2.183885, 41.398989], [2.183932, 41.398952], [2.184541, 41.398468], [2.184583, 41.398436], [2.184688, 41.398353], [2.184831, 41.39824], [2.184977, 41.398127], [2.185078, 41.398048], [2.185647, 41.397609], [2.185666, 41.397595], [2.185799, 41.397492], [2.185957, 41.39737], [2.186042, 41.3973], [2.186068, 41.397279], [2.186597, 41.396845], [2.186632, 41.396816], [2.186751, 41.396719], [2.186798, 41.396682], [2.186853, 41.396641], [2.186895, 41.396608], [2.186943, 41.39657], [2.186999, 41.396514], [2.187128, 41.396584], [2.187295, 41.396696], [2.18732, 41.396713], [2.187646, 41.396954], [2.187896, 41.397146], [2.188091, 41.397296], [2.188064, 41.397318], [2.18803, 41.397349], [2.187953, 41.397421], [2.187328, 41.397966], [2.187281, 41.398005], [2.187051, 41.398188], [2.187014, 41.398217], [2.186958, 41.398286], [2.186904, 41.398333], [2.186877, 41.398357], [2.186863, 41.39837], [2.186802, 41.398424], [2.186757, 41.398465], [2.186692, 41.398515], [2.186664, 41.398536], [2.18609, 41.39897], [2.185967, 41.399064]],
                  type: 'LineString'
                },
              },
            ],
          },
        },
      },
    ],
    selectedEntityIndex: 0,
  },
};

const Mockstore = ({ children }) => (
  <Provider
    store={configureStore({
      reducer: {
        planATrip: createSlice({
          name: "planATrip",
          initialState: MockedState,
          reducers: planATripSlice.caseReducers,
        }).reducer,
      },
    })}
  >
    {children}
  </Provider>
);

export default {
  title: "Components/RouteMap",
  component: RouteMap,
  tags: ["autodocs"],
};

export const Default = {
  decorators: [(story) => <Mockstore>{story()}</Mockstore>],
};
